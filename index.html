<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Яндекс.Дом</title>
    <style>html{font-size:100%;font-family:Arial,sans-serif;line-height:1.25}body{display:flex;flex-direction:column;font-family:inherit;line-height:inherit;margin:0}html,body{height:100%}.a11y-hidden{position:absolute;left:auto;height:1px;width:1px;top:0;overflow:hidden;clip:rect(1px)}.header{position:relative;display:flex;flex:0 0 auto;align-items:center;height:5.75rem;margin-bottom:1.875rem;padding:0 2.5rem;font-family:Arial,sans-serif;border-bottom:1px solid #f0f0f0}@media (max-width:768px){.header{height:4rem;margin-bottom:0;padding:0 0 0 1.25rem;border-bottom:none}}.header__logo{flex:0 0 auto;width:6.75rem;height:2.3125rem;margin-right:3.25rem;background:no-repeat 50%/contain url(assets/logo.svg)}.header__menu{display:none;width:3.5rem;height:100%;margin:0 0 0 auto;padding:0;background:50% 50% no-repeat url(assets/icon_list_m@1x.svg);border:none;border-radius:0;appearance:none;cursor:pointer}@media (max-width:768px){.header__menu{display:block}}.header__links{display:flex;gap:1.75rem;margin:0;padding:0;list-style:none}@media (max-width:768px){.header__links{display:none;position:absolute;z-index:1;top:100%;left:0;box-sizing:border-box;flex-direction:column;width:100%;padding:1.25rem;background:#fff;box-shadow:0 2px 6px 0 rgba(197,186,186,.5)}.header__links-toggled,.header__links_opened{display:flex;animation-fill-mode:both}.header__links_opened{animation:.3s ease-in-out showMenu;visibility:visible}.header__links-toggled{animation:.3s ease-in-out hideMenu}}@keyframes showMenu{from{transform:translateY(-1rem);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes hideMenu{from{transform:translateY(0);opacity:1;visibility:visible}to{transform:translateY(-1rem);opacity:0;visibility:hidden}}.header__item{margin:0;padding:0}.header__link{font-weight:700;opacity:.6;transition:opacity .15s ease-in-out;text-decoration:none;color:#333}.header__link:hover{opacity:1}.header__link_current{opacity:1}.main{display:grid;flex:0 0 auto;grid-template-columns:50% 50%;gap:1.625rem;padding:0 2.5rem}@media (max-width:768px){.main{padding:0 1.25rem}}@media (max-width:1024px){.main{grid-template-columns:100%}}.main__devices{grid-column:1/3}@media (max-width:1024px){.main__devices{grid-column-end:2}}.section__title-header{margin:0;font-size:1.125rem;font-weight:700;color:#333}.section__title{display:flex;align-items:baseline;margin:0 0 1.25rem}@media (max-width:768px){.section__title{gap:1rem}.section__main-title{display:none}}.section__select{display:none;margin:0 0 0 auto;padding:.4375rem 1.9375rem .5rem 1rem;border:none;border-radius:1.25rem;font-size:.8125rem;font-family:inherit;font-weight:700;background:no-repeat calc(100% - 1rem) 50% #ffd93e url(assets/arrow-down.svg);appearance:none}@media (max-width:768px){.section__select{display:block}}.section__tabs{display:flex;gap:.625rem;align-items:baseline;margin:0 0 0 .8125rem;padding:0;list-style:none}@media (max-width:768px){.section__tabs{display:none}}.section__tab{flex:0 0 auto;padding:.4375rem .9375rem .5rem;font-size:.8125rem;font-weight:700;background:#f7f7f7;border-radius:1024px;cursor:pointer;transition:.25s ease-in-out;transition-property:background-color,box-shadow}.section__tab_active{background:#ffd93e}.section__tab:not(.section__tab_active):hover{background:#fff;box-shadow:0 2px 6px 0 rgba(197,186,186,.5)}.hero-dashboard{position:relative;box-sizing:border-box;display:flex;gap:.9375rem;height:20.6875rem;background:no-repeat 50%/1260px url(assets/bg2x_1_11zon.webp);border-radius:1.25rem}@media (max-width:768px){.hero-dashboard{flex-direction:column;gap:1.25rem;height:auto;margin-bottom:.3125rem;background-image:none}}.hero-dashboard__primary{flex:1 1 auto;padding:1.25rem 0 1.25rem 1.25rem}@media (max-width:768px){.hero-dashboard__primary{padding:1.25rem 1.25rem 0}}.hero-dashboard__title{margin:.375rem 0;font-size:1.6875rem;font-weight:700;color:#333}@media (max-width:768px){.hero-dashboard__title{font-size:1.125rem}}.hero-dashboard__subtitle{margin:.375rem 0 0;font-size:.875rem;color:#333}@media (max-width:768px){.hero-dashboard__subtitle{margin:.3125rem 0 0;font-size:.75rem}}.hero-dashboard__info{display:flex;gap:1.125rem;margin:1.5625rem 0 0;padding:0;list-style:none}@media (max-width:768px){.hero-dashboard__info{margin-top:.9375rem}}.hero-dashboard__item{margin:0;padding:0}.hero-dashboard__item-title{font-size:.875rem;color:#858585}@media (max-width:768px){.hero-dashboard__item-title{font-size:.75rem}}.hero-dashboard__item-details{display:flex;align-items:center;margin-top:.25rem;font-size:2.25rem;font-weight:700;color:#333}@media (max-width:768px){.hero-dashboard__item-details{margin-top:.3125rem;font-size:1.5rem}}.hero-dashboard__icon{width:1.625rem;height:1.625rem;margin-left:.3125rem;background-position:50%;background-repeat:no-repeat;background-size:contain}@media (max-width:768px){.hero-dashboard__icon{width:1.375rem;height:1.375rem}}.hero-dashboard__icon_rain{background-image:url(assets/cloud-drizzle.svg)}.hero-dashboard__schedule{display:flex;flex:0 0 auto;flex-direction:column;gap:.9375rem;margin:0;padding:1.25rem 1.5625rem 1.25rem 0;overflow:auto;list-style:none;scrollbar-width:none}.hero-dashboard__schedule::-webkit-scrollbar{display:none}@media (max-width:768px){.hero-dashboard__schedule{flex-direction:row;padding:0 1.25rem 1.25rem}}.event-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.9375rem;margin:0;padding:0;list-style:none}@media (max-width:768px){.event-grid{display:flex;padding-bottom:.3125rem;overflow:auto;scrollbar-width:none}.event-grid::-webkit-scrollbar{display:none}}.section__panel{padding-bottom:.625rem;overflow-x:auto;scrollbar-width:none}.section__panel::-webkit-scrollbar{display:none}.section__panel_hidden{display:none}.section__panel-list{display:flex;gap:.9375rem;margin:0;padding:0;list-style:none}.section__panel-wrapper{position:relative}.section__arrow{position:absolute;top:0;right:0;width:18px;bottom:10px;background:no-repeat 50% url(./assets/arrow-left.png);transform:rotate(180deg);cursor:pointer}.section__arrow:hover{opacity:.7}.footer{display:flex;flex:0 0 auto;align-items:center;height:4rem;margin-top:auto;padding:0 2.5rem}@media (max-width:768px){.footer{flex-direction:column;align-items:flex-start;gap:.9375rem;height:auto;padding:1rem 2.5rem}}.footer__list{display:flex;align-items:baseline;gap:.9375rem;margin:0;padding:0;list-style:none}@media (max-width:768px){.footer__list{flex-direction:column;align-items:flex-start}}.footer__link{font-size:.75rem;color:#858585;transition:opacity .15s ease-in-out;text-decoration:none}.footer__link:hover{color:#000}.footer__copyright{margin-left:auto;font-size:.75rem;color:#858585}@media (max-width:768px){.footer__copyright{margin-left:0}}.event__button{position:relative;display:flex;flex-direction:column;justify-content:end;gap:.1875rem;width:100%;min-width:12.5rem;height:7.5rem;margin:0;padding:.875rem;border-radius:1.25rem;border:none;background:#f7f7f7;text-align:left;transition:.25s ease-in-out;transition-property:background-color,box-shadow;cursor:pointer;appearance:none}.event_slim .event__button{height:6.25rem}.event__button:hover{background:#fff;box-shadow:0 2px 6px 0 rgba(197,186,186,.5)}.event__icon{position:absolute;top:.875rem;left:.875rem;width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-position:50%;background-size:contain}.event__icon_temp{background-image:url(assets/icon_temperature.svg)}.event__icon_temp2{background-image:url(assets/icon_temperature_2.svg)}.event__icon_light{background-image:url(assets/icon_sun.svg)}.event__icon_light2{background-image:url(assets/icon_sun_2.svg)}.event__icon_schedule{background-image:url(assets/icon_scheduled.svg)}.event__title{margin:0;font-size:.875rem;font-weight:700;color:#333}.event__subtitle{font-size:.75rem;color:#858585}</style>
</head>
<body>
<div id="app"></div>
<footer class="footer">
    <ul class="footer__list">
        <li class="footer__item"><a class="footer__link" href="/">Помощь</a></li>
        <li class="footer__item"><a class="footer__link" href="/">Обратная связь</a></li>
        <li class="footer__item"><a class="footer__link" href="/">Разработчикам</a></li>
        <li class="footer__item"><a class="footer__link" href="/">Условия использования</a></li>
    </ul>
    <div class="footer__copyright">© 1997–2023 ООО «Яндекс»</div>
</footer>
<script>
document.addEventListener("DOMContentLoaded", function() {
    "use strict";

    const TABS = {
        all: { title: "Все", items: [
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Yeelight LED Smart Bulb", subtitle: "Включено" },
            { icon: "light", iconLabel: "Освещение", title: "D-Link Omna 180 Cam", subtitle: "Включится в 17:00" },
            { icon: "temp", iconLabel: "Температура", title: "Elgato Eve Degree Connected", subtitle: "Выключено до 17:00" },
            { icon: "light", iconLabel: "Освещение", title: "LIFX Mini Day & Dusk A60 E27", subtitle: "Включится в 17:00" },
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Mi Air Purifier 2S", subtitle: "Включено" },
            { icon: "light", iconLabel: "Освещение", title: "Philips Zhirui", subtitle: "Включено" },
            { icon: "light", iconLabel: "Освещение", title: "Philips Zhirui", subtitle: "Включено" },
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Mi Air Purifier 2S", subtitle: "Включено" }
        ]},
        kitchen: { title: "Кухня", items: [
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Yeelight LED Smart Bulb", subtitle: "Включено" },
            { icon: "temp", iconLabel: "Температура", title: "Elgato Eve Degree Connected", subtitle: "Выключено до 17:00" }
        ]},
        hall: { title: "Зал", items: [
            { icon: "light", iconLabel: "Освещение", title: "Philips Zhirui", subtitle: "Выключено" },
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Mi Air Purifier 2S", subtitle: "Выключено" }
        ]},
        lights: { title: "Лампочки", items: [
            { icon: "light", iconLabel: "Освещение", title: "D-Link Omna 180 Cam", subtitle: "Включится в 17:00" },
            { icon: "light", iconLabel: "Освещение", title: "LIFX Mini Day & Dusk A60 E27", subtitle: "Включится в 17:00" },
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Mi Air Purifier 2S", subtitle: "Включено" },
            { icon: "light", iconLabel: "Освещение", title: "Philips Zhirui", subtitle: "Включено" }
        ]},
        cameras: { title: "Камеры", items: [
            { icon: "light2", iconLabel: "Освещение", title: "Xiaomi Mi Air Purifier 2S", subtitle: "Включено" }
        ]}
    };

    for (let i = 0; i < 6; ++i) {
        TABS.all.items = [...TABS.all.items, ...TABS.all.items];
    }
    const TABS_KEYS = Object.keys(TABS);

    function createHeader() {
        const header = document.createElement("header");
        header.className = "header";
        
        const logo = document.createElement("a");
        logo.href = "/";
        logo.className = "header__logo";
        logo.setAttribute("aria-label", "Яндекс.Дом");
        header.appendChild(logo);
        
        const menuButton = document.createElement("button");
        menuButton.className = "header__menu";
        menuButton.setAttribute("aria-expanded", "false");
        
        const menuText = document.createElement("span");
        menuText.className = "header__menu-text a11y-hidden";
        menuText.textContent = "Открыть меню";
        menuButton.appendChild(menuText);
        header.appendChild(menuButton);
        
        const linksList = document.createElement("ul");
        linksList.className = "header__links";
        
        const linksData = [
            { text: "Сводка", href: "/", current: true },
            { text: "Устройства", href: "/devices" },
            { text: "Сценарии", href: "/scripts" }
        ];
        
        linksData.forEach(linkData => {
            const item = document.createElement("li");
            item.className = "header__item";
            
            const link = document.createElement("a");
            link.className = "header__link";
            link.href = linkData.href;
            link.textContent = linkData.text;
            
            if (linkData.current) {
                link.classList.add("header__link_current");
                link.setAttribute("aria-current", "page");
            }
            
            item.appendChild(link);
            linksList.appendChild(item);
        });
        
        header.appendChild(linksList);
        
        let expanded = false;
        let toggled = false;
        
        menuButton.addEventListener("click", () => {
            if (!toggled) toggled = true;
            expanded = !expanded;
            
            menuButton.setAttribute("aria-expanded", expanded ? "true" : "false");
            menuText.textContent = expanded ? "Закрыть меню" : "Открыть меню";
            
            linksList.classList.toggle("header__links_opened", expanded);
            if (toggled) {
                linksList.classList.add("header__links-toggled");
            }
        });
        
        return header;
    }

    function createEvent(props) {
        const eventItem = document.createElement("li");
        eventItem.className = props.slim ? "event event_slim" : "event";
        
        const eventButton = document.createElement("button");
        eventButton.className = "event__button";
        
        const icon = document.createElement("span");
        icon.className = `event__icon event__icon_${props.icon}`;
        icon.setAttribute("role", "img");
        if (props.iconLabel) icon.setAttribute("aria-label", props.iconLabel);
        eventButton.appendChild(icon);
        
        const title = document.createElement("h4");
        title.className = "event__title";
        title.textContent = props.title;
        eventButton.appendChild(title);
        
        if (props.subtitle) {
            const subtitle = document.createElement("span");
            subtitle.className = "event__subtitle";
            subtitle.textContent = props.subtitle;
            eventButton.appendChild(subtitle);
        }
        
        eventItem.appendChild(eventButton);
        return eventItem;
    }

    function createMain() {
        const main = document.createElement("main");
        main.className = "main";
        
        const generalSection = document.createElement("section");
        generalSection.className = "section main__general";
        
        const generalTitle = document.createElement("h2");
        generalTitle.className = "section__title section__title-header section__main-title";
        generalTitle.textContent = "Главное";
        generalSection.appendChild(generalTitle);
        
        const heroDashboard = document.createElement("div");
        heroDashboard.className = "hero-dashboard";
        
        const primaryInfo = document.createElement("div");
        primaryInfo.className = "hero-dashboard__primary";
        
        const greeting = document.createElement("h3");
        greeting.className = "hero-dashboard__title";
        greeting.textContent = "Привет, Геннадий!";
        primaryInfo.appendChild(greeting);
        
        const status = document.createElement("p");
        status.className = "hero-dashboard__subtitle";
        status.textContent = "Двери и окна закрыты, сигнализация включена.";
        primaryInfo.appendChild(status);
        
        const infoList = document.createElement("ul");
        infoList.className = "hero-dashboard__info";
        
        const homeTemp = document.createElement("li");
        homeTemp.className = "hero-dashboard__item";
        
        const homeTitle = document.createElement("div");
        homeTitle.className = "hero-dashboard__item-title";
        homeTitle.textContent = "Дома";
        homeTemp.appendChild(homeTitle);
        
        const homeDetails = document.createElement("div");
        homeDetails.className = "hero-dashboard__item-details";
        homeDetails.innerHTML = "+23<span class=\"a11y-hidden\">°</span>";
        homeTemp.appendChild(homeDetails);
        
        const outsideTemp = document.createElement("li");
        outsideTemp.className = "hero-dashboard__item";
        
        const outsideTitle = document.createElement("div");
        outsideTitle.className = "hero-dashboard__item-title";
        outsideTitle.textContent = "За окном";
        outsideTemp.appendChild(outsideTitle);
        
        const outsideDetails = document.createElement("div");
        outsideDetails.className = "hero-dashboard__item-details";
        outsideDetails.innerHTML = "+19<span class=\"a11y-hidden\">°</span>";
        
        const rainIcon = document.createElement("div");
        rainIcon.className = "hero-dashboard__icon hero-dashboard__icon_rain";
        rainIcon.setAttribute("role", "img");
        rainIcon.setAttribute("aria-label", "Дождь");
        outsideDetails.appendChild(rainIcon);
        outsideTemp.appendChild(outsideDetails);
        
        infoList.appendChild(homeTemp);
        infoList.appendChild(outsideTemp);
        primaryInfo.appendChild(infoList);
        heroDashboard.appendChild(primaryInfo);
        
        const schedule = document.createElement("ul");
        schedule.className = "hero-dashboard__schedule";
        
        const scheduleEvents = [
            { icon: "temp", iconLabel: "Температура", title: "Philips Cooler", subtitle: "Начнет охлаждать в 16:30" },
            { icon: "light", iconLabel: "Освещение", title: "Xiaomi Yeelight LED Smart Bulb", subtitle: "Включится в 17:00" },
            { icon: "light", iconLabel: "Освещение", title: "Xiaomi Yeelight LED Smart Bulb", subtitle: "Включится в 17:00" }
        ];
        
        scheduleEvents.forEach(event => {
            schedule.appendChild(createEvent(event));
        });
        
        heroDashboard.appendChild(schedule);
        generalSection.appendChild(heroDashboard);
        main.appendChild(generalSection);
        
        const scriptsSection = document.createElement("section");
        scriptsSection.className = "section main__scripts";
        
        const scriptsTitle = document.createElement("h2");
        scriptsTitle.className = "section__title section__title-header";
        scriptsTitle.textContent = "Избранные сценарии";
        scriptsSection.appendChild(scriptsTitle);
        
        const scriptsGrid = document.createElement("ul");
        scriptsGrid.className = "event-grid";
        
        const scriptEvents = [
            { slim: true, icon: "light2", iconLabel: "Освещение", title: "Выключить весь свет в доме и во дворе" },
            { slim: true, icon: "schedule", iconLabel: "Расписание", title: "Я ухожу" },
            { slim: true, icon: "light2", iconLabel: "Освещение", title: "Включить свет в коридоре" },
            { slim: true, icon: "temp2", iconLabel: "Температура", title: "Набрать горячую ванну", subtitle: "Начнётся в 18:00" },
            { slim: true, icon: "temp2", iconLabel: "Температура", title: "Сделать пол тёплым во всей квартире" }
        ];
        
        scriptEvents.forEach(event => {
            scriptsGrid.appendChild(createEvent(event));
        });
        
        scriptsSection.appendChild(scriptsGrid);
        main.appendChild(scriptsSection);
        
        const devicesSection = document.createElement("section");
        devicesSection.className = "section main__devices";
        
        const devicesHeader = document.createElement("div");
        devicesHeader.className = "section__title";
        
        const devicesTitle = document.createElement("h2");
        devicesTitle.className = "section__title-header";
        devicesTitle.textContent = "Избранные устройства";
        devicesHeader.appendChild(devicesTitle);
        
        const select = document.createElement("select");
        select.className = "section__select";
        
        TABS_KEYS.forEach(key => {
            const option = document.createElement("option");
            option.value = key;
            option.textContent = TABS[key].title;
            select.appendChild(option);
        });
        
        select.value = "all";
        devicesHeader.appendChild(select);
        
        const tabsList = document.createElement("ul");
        tabsList.className = "section__tabs";
        tabsList.setAttribute("role", "tablist");
        
        TABS_KEYS.forEach(key => {
            const tab = document.createElement("li");
            tab.className = "section__tab";
            if (key === "all") tab.classList.add("section__tab_active");
            tab.setAttribute("role", "tab");
            tab.setAttribute("aria-selected", key === "all" ? "true" : "false");
            tab.setAttribute("tabindex", key === "all" ? "0" : "-1");
            tab.id = `tab_${key}`;
            tab.setAttribute("aria-controls", `panel_${key}`);
            tab.textContent = TABS[key].title;
            tab.dataset.tabkey = key;
            tabsList.appendChild(tab);
        });
        
        devicesHeader.appendChild(tabsList);
        devicesSection.appendChild(devicesHeader);
        
        const panelWrapper = document.createElement("div");
        panelWrapper.className = "section__panel-wrapper";
        
        TABS_KEYS.forEach(key => {
            const panel = document.createElement("div");
            panel.className = key === "all" ? "section__panel" : "section__panel section__panel_hidden";
            panel.setAttribute("role", "tabpanel");
            panel.setAttribute("aria-hidden", key === "all" ? "false" : "true");
            panel.id = `panel_${key}`;
            panel.setAttribute("aria-labelledby", `tab_${key}`);
            
            const devicesList = document.createElement("ul");
            devicesList.className = "section__panel-list";
            
            TABS[key].items.forEach((item, index) => {
                const event = createEvent(item);
                devicesList.appendChild(event);
            });
            
            panel.appendChild(devicesList);
            panelWrapper.appendChild(panel);
        });
        
        const arrow = document.createElement("div");
        arrow.className = "section__arrow";
        arrow.style.display = "none";
        panelWrapper.appendChild(arrow);
        devicesSection.appendChild(panelWrapper);
        main.appendChild(devicesSection);
        
        let activeTab = "all";
        const tabs = tabsList.querySelectorAll(".section__tab");
        
        function checkScrollNeeded() {
            const activePanel = panelWrapper.querySelector(".section__panel:not(.section__panel_hidden)");
            if (!activePanel) return;
            
            const list = activePanel.querySelector(".section__panel-list");
            if (!list) return;
            
            let totalWidth = 0;
            Array.from(list.children).forEach(child => {
                totalWidth += child.offsetWidth;
            });
            
            const hasRightScroll = totalWidth > activePanel.offsetWidth;
            arrow.style.display = hasRightScroll ? "block" : "none";
        }
        
        function setActiveTab(tabKey) {
            if (activeTab === tabKey) return;
            
            const prevTab = document.querySelector(`.section__tab[data-tabkey="${activeTab}"]`);
            if (prevTab) {
                prevTab.classList.remove("section__tab_active");
                prevTab.setAttribute("aria-selected", "false");
                prevTab.setAttribute("tabindex", "-1");
            }
            
            activeTab = tabKey;
            const newTab = document.querySelector(`.section__tab[data-tabkey="${tabKey}"]`);
            if (newTab) {
                newTab.classList.add("section__tab_active");
                newTab.setAttribute("aria-selected", "true");
                newTab.setAttribute("tabindex", "0");
            }
            
            select.value = tabKey;
            
            const panels = panelWrapper.querySelectorAll(".section__panel");
            panels.forEach(panel => {
                const isActive = panel.id === `panel_${tabKey}`;
                panel.classList.toggle("section__panel_hidden", !isActive);
                panel.setAttribute("aria-hidden", !isActive ? "true" : "false");
            });
            
            setTimeout(checkScrollNeeded, 0);
        }
        
        select.addEventListener("input", e => setActiveTab(e.target.value));
        
        tabs.forEach(tab => {
            tab.addEventListener("click", () => setActiveTab(tab.dataset.tabkey));
        });
        
        arrow.addEventListener("click", () => {
            const activePanel = panelWrapper.querySelector(".section__panel:not(.section__panel_hidden)");
            if (activePanel) {
                activePanel.scrollBy({ left: 400, behavior: "smooth" });
            }
        });
        
        setTimeout(() => {
            checkScrollNeeded();
            window.addEventListener("resize", checkScrollNeeded);
            
            const params = new URLSearchParams(window.location.search);
            const urlTab = params.get("tab");
            if (urlTab && TABS_KEYS.includes(urlTab)) {
                setActiveTab(urlTab);
            }
        }, 0);
        
        return main;
    }

    const appContainer = document.getElementById("app");
    appContainer.appendChild(createHeader());
    appContainer.appendChild(createMain());
});
</script>
</body>
</html>